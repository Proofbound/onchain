<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ch11-building-onchain-business – The Crypto Business Solution</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c1fac2584b48ed01fb6e278e36375074.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../_resources/css/custom.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">The Crypto Business Solution</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../en/"> 
<span class="menu-text">English</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../zh/"> 
<span class="menu-text">中文</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-building-business" id="toc-sec-building-business" class="nav-link active" data-scroll-target="#sec-building-business">Building Your OnChain Business</a>
  <ul class="collapse">
  <li><a href="#getting-started-first-steps-for-individuals-and-businesses" id="toc-getting-started-first-steps-for-individuals-and-businesses" class="nav-link" data-scroll-target="#getting-started-first-steps-for-individuals-and-businesses">Getting Started: First Steps for Individuals and Businesses</a></li>
  <li><a href="#technology-requirements-minimal-technical-barriers-to-entry" id="toc-technology-requirements-minimal-technical-barriers-to-entry" class="nav-link" data-scroll-target="#technology-requirements-minimal-technical-barriers-to-entry">Technology Requirements: Minimal Technical Barriers to Entry</a></li>
  <li><a href="#community-building-growing-your-participant-network" id="toc-community-building-growing-your-participant-network" class="nav-link" data-scroll-target="#community-building-growing-your-participant-network">Community Building: Growing Your Participant Network</a></li>
  <li><a href="#revenue-optimization-maximizing-returns-within-the-system" id="toc-revenue-optimization-maximizing-returns-within-the-system" class="nav-link" data-scroll-target="#revenue-optimization-maximizing-returns-within-the-system">Revenue Optimization: Maximizing Returns Within the System</a></li>
  <li><a href="#scaling-strategies-from-local-to-regional-to-global-operations" id="toc-scaling-strategies-from-local-to-regional-to-global-operations" class="nav-link" data-scroll-target="#scaling-strategies-from-local-to-regional-to-global-operations">Scaling Strategies: From Local to Regional to Global Operations</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="sec-building-business" class="level1">
<h1>Building Your OnChain Business</h1>
<p>Practical guide to implementation</p>
<p>The transition from understanding OnChain Commerce principles to successfully implementing them in real business operations requires systematic planning, careful execution, and ongoing optimization based on practical experience and market feedback. While the concepts and frameworks discussed throughout this book provide the theoretical foundation, successful implementation depends on addressing the specific challenges and opportunities that arise when translating these ideas into functioning business systems.</p>
<p>Building an OnChain business differs significantly from traditional business development because it emphasizes network effects, collaborative value creation, and token-based incentive systems rather than competitive advantage and profit extraction. This fundamental difference requires new approaches to planning, execution, and growth that align with decentralized principles while achieving practical business objectives.</p>
<p>The implementation process involves multiple phases that progress from initial planning and setup through community development, revenue optimization, and scaling strategies. Understanding these phases and their specific requirements enables entrepreneurs and business owners to develop realistic timelines and resource allocation plans while avoiding common implementation pitfalls that can undermine OnChain Commerce adoption and success.</p>
<section id="getting-started-first-steps-for-individuals-and-businesses" class="level2">
<h2 class="anchored" data-anchor-id="getting-started-first-steps-for-individuals-and-businesses">Getting Started: First Steps for Individuals and Businesses</h2>
<p>The initial phase of OnChain business development focuses on education, planning, and basic system setup that establishes the foundation for sustainable network participation. Whether starting as an individual participant or implementing OnChain Commerce within an existing business, the fundamental steps remain consistent while the specific details vary based on business type, market conditions, and available resources.</p>
<p>Educational preparation represents the most important first step because successful OnChain Commerce participation requires understanding both the technical mechanisms and the collaborative principles that differentiate these systems from traditional business models. Prospective participants should thoroughly understand token distribution mechanics, governance processes, community building strategies, and legal compliance requirements before committing resources to implementation.</p>
<p>Market research and competitive analysis help identify the most promising opportunities for OnChain Commerce implementation within specific industries and geographic regions. This research should examine existing merchant density, customer demographics, regulatory environments, and competitive dynamics that might affect network development and participant success.</p>
<p>Business model adaptation involves modifying existing business practices to accommodate token-based reward systems, collaborative marketing approaches, and community-focused customer relationship management. This often requires changes to pricing strategies, customer service procedures, and accounting systems that can be implemented gradually to minimize operational disruption.</p>
<p>Legal and regulatory compliance preparation ensures that OnChain Commerce implementation conforms to applicable laws and regulations governing business operations, token distribution, customer data protection, and financial record keeping. This preparation often requires consultation with qualified legal and accounting professionals who understand blockchain-based business systems.</p>
<p>Technology evaluation and selection focuses on choosing appropriate platforms, tools, and service providers that can support OnChain Commerce operations without requiring extensive technical expertise or infrastructure investment. Most successful implementations utilize established platforms and service providers rather than attempting to develop custom technology solutions.</p>
<p>Financial planning and resource allocation establish realistic budgets and timelines for OnChain Commerce implementation while identifying funding sources and revenue projections that support sustainable business development. This planning should account for both initial setup costs and ongoing operational expenses while projecting realistic revenue growth timelines.</p>
<p>Partnership development and network identification help establish relationships with other potential participants, service providers, and support organizations that can accelerate implementation and provide ongoing assistance with network development and optimization. These relationships often prove crucial for long-term success and sustainable growth.</p>
</section>
<section id="technology-requirements-minimal-technical-barriers-to-entry" class="level2">
<h2 class="anchored" data-anchor-id="technology-requirements-minimal-technical-barriers-to-entry">Technology Requirements: Minimal Technical Barriers to Entry</h2>
<p>OnChain Commerce implementation has been deliberately designed to minimize technical barriers and complexity that might prevent widespread adoption among traditional business owners and entrepreneurs. Most participants can implement functional OnChain Commerce systems using existing technology tools and service platforms without requiring programming skills or blockchain expertise.</p>
<p>Basic digital infrastructure requirements include reliable internet connectivity, standard computing devices, and existing business software systems that can integrate with OnChain Commerce platforms through web-based interfaces or simple API connections. Most businesses already possess the necessary technology infrastructure to support OnChain Commerce implementation.</p>
<p>Platform selection focuses on choosing established OnChain Commerce service providers that handle the technical complexity of blockchain integration, smart contract management, and token distribution while providing user-friendly interfaces for business operation and customer interaction. These platforms typically operate on subscription or transaction-fee models that eliminate large upfront technology investments.</p>
<p>Payment system integration usually involves connecting existing point-of-sale systems, e-commerce platforms, or accounting software with OnChain Commerce platforms through simple configuration procedures rather than complex technical development. Most established business systems can be integrated within hours or days rather than weeks or months.</p>
<p>Customer interface implementation typically utilizes standard web technologies and mobile applications that customers can access through familiar browsers and devices without requiring specialized software installation or technical knowledge. The customer experience should feel similar to conventional online shopping or loyalty program participation.</p>
<p>Data management and backup procedures ensure that business and customer information remains secure and accessible while conforming to applicable privacy regulations and industry best practices. OnChain Commerce platforms typically provide automated backup and security features that exceed what individual businesses can implement independently.</p>
<p>Security and compliance monitoring involves regular review of system access controls, transaction monitoring, and regulatory compliance procedures that protect both business operations and customer information. Most OnChain Commerce platforms provide automated monitoring and alert systems that simplify security management for participating businesses.</p>
<p>Support and maintenance resources include technical assistance, training materials, and troubleshooting services provided by OnChain Commerce platform providers and community networks. These resources enable businesses to resolve technical issues quickly while continuing to operate effectively without requiring internal technical expertise.</p>
</section>
<section id="community-building-growing-your-participant-network" class="level2">
<h2 class="anchored" data-anchor-id="community-building-growing-your-participant-network">Community Building: Growing Your Participant Network</h2>
<p>Successful OnChain Commerce implementation depends more on community development and relationship building than on technology deployment or marketing campaigns. Building thriving participant networks requires systematic approaches to relationship development, value creation, and collaborative growth that differ significantly from traditional customer acquisition and retention strategies.</p>
<p>Relationship-first approaches prioritize genuine value creation and mutual benefit over promotional activities and sales tactics. Successful OnChain Commerce participants typically focus on helping others succeed within the network rather than simply promoting their own products or services. This relationship-focused approach builds trust and loyalty that supports long-term network growth and sustainability.</p>
<p>Educational content creation helps potential participants understand OnChain Commerce benefits and implementation procedures while establishing thought leadership and expertise within the community. Educational activities might include workshops, webinars, blog posts, video content, and one-on-one consultations that provide value to potential participants while building relationships and network awareness.</p>
<p>Referral system optimization focuses on identifying and cultivating relationships with individuals who can effectively introduce new participants to the network. These might include existing customers, business partners, industry colleagues, or community leaders who understand the value proposition and can communicate it effectively to their networks.</p>
<p>Cross-promotion and collaboration opportunities enable network participants to support each other’s businesses through referrals, joint marketing efforts, and resource sharing that benefits all participants while strengthening community bonds. These collaborative activities often generate better results than individual marketing efforts while building lasting business relationships.</p>
<p>Event organization and participation provide opportunities for network participants to meet, share experiences, and develop personal relationships that strengthen community cohesion and mutual support. Events might include local meetups, industry conferences, educational workshops, or social gatherings that build community engagement and participant retention.</p>
<p>Quality assurance and community standards help maintain network integrity by ensuring that new participants understand and commit to the collaborative principles and customer service standards that define successful OnChain Commerce communities. This might involve vetting procedures, training requirements, or mentorship programs that support new participant success.</p>
<p>Recognition and reward systems acknowledge and celebrate participant contributions to community development, customer service excellence, and network growth. These recognition programs often motivate continued participation and high-quality performance while providing examples and inspiration for other community members.</p>
<p>Feedback and improvement processes enable community members to contribute to network development and optimization through suggestions, criticism, and collaborative problem-solving that improves network operations and participant satisfaction over time.</p>
</section>
<section id="revenue-optimization-maximizing-returns-within-the-system" class="level2">
<h2 class="anchored" data-anchor-id="revenue-optimization-maximizing-returns-within-the-system">Revenue Optimization: Maximizing Returns Within the System</h2>
<p>OnChain Commerce revenue optimization focuses on maximizing value creation and token accumulation rather than simply increasing transaction volume or profit margins. This approach requires understanding how different activities generate token rewards and appreciation while building sustainable business relationships that support long-term growth and success.</p>
<p>Token accumulation strategies involve optimizing business operations to maximize token earning through customer transactions, referral activities, community participation, and network development contributions. This might include adjusting product mix, pricing strategies, or service offerings to increase customer satisfaction and repeat business while maximizing token rewards per transaction.</p>
<p>Customer lifetime value enhancement focuses on building long-term relationships that generate ongoing token rewards through repeat business, referrals, and community engagement rather than optimizing for single-transaction profits. This approach often involves providing exceptional customer service, ongoing value creation, and community building activities that exceed traditional business relationships.</p>
<p>Cross-selling and upselling optimization within OnChain Commerce systems typically involves helping customers discover products and services from other network participants rather than simply promoting higher-value offerings from individual businesses. This collaborative approach often generates more total value while building stronger community relationships.</p>
<p>Referral income maximization involves developing systematic approaches to identifying and cultivating referral opportunities while providing ongoing value to referred participants that generates continued referral activity. Successful referral strategies often involve education, relationship building, and ongoing support rather than simple promotional activities.</p>
<p>Network participation rewards can be optimized through active involvement in community development, governance activities, content creation, and support services that generate token rewards while building valuable relationships and expertise within the network.</p>
<p>Geographic expansion strategies enable businesses to leverage OnChain Commerce networks to enter new markets with reduced risk and accelerated customer acquisition through network relationships and token-based customer incentives that transfer across geographic boundaries.</p>
<p>Partnership development and collaborative revenue generation create opportunities for businesses to work together on projects, services, or market development initiatives that generate shared revenue while strengthening network relationships and expanding business capabilities.</p>
<p>Performance measurement and optimization involve tracking key metrics related to token accumulation, customer satisfaction, network participation, and business growth to identify opportunities for improvement and optimization within OnChain Commerce systems.</p>
</section>
<section id="scaling-strategies-from-local-to-regional-to-global-operations" class="level2">
<h2 class="anchored" data-anchor-id="scaling-strategies-from-local-to-regional-to-global-operations">Scaling Strategies: From Local to Regional to Global Operations</h2>
<p>OnChain Commerce scaling strategies emphasize sustainable growth through network effects and collaborative development rather than capital-intensive expansion or competitive market domination. This approach enables businesses to achieve significant scale while maintaining operational flexibility and community relationships that support continued growth and adaptation.</p>
<p>Local market development typically focuses on building dense networks of participating merchants and customers within specific geographic areas that can support frequent interactions and strong community relationships. Local success often provides the foundation for regional and global expansion through proven systems and established relationships.</p>
<p>Regional network coordination involves working with other successful local networks to develop regional marketing campaigns, resource sharing arrangements, and collaborative services that benefit all participating communities while creating economies of scale and enhanced customer value propositions.</p>
<p>Multi-location expansion strategies enable successful local businesses to replicate their operations in new geographic markets while maintaining access to established OnChain Commerce networks and relationships. This approach often reduces expansion risks while accelerating customer acquisition and market penetration.</p>
<p>Digital platform development allows successful OnChain Commerce businesses to extend their reach beyond local markets through e-commerce, content creation, consulting services, or digital product offerings that can serve customers globally while maintaining local community relationships.</p>
<p>Franchise and licensing opportunities enable successful OnChain Commerce businesses to share their systems and expertise with entrepreneurs in other markets while generating ongoing revenue through royalties, service fees, or partnership arrangements that benefit all participants.</p>
<p>Strategic partnership development with larger organizations, institutions, or networks can provide access to new markets, customer bases, and resources while maintaining the collaborative principles and community focus that define successful OnChain Commerce operations.</p>
<p>Technology and infrastructure scaling involves upgrading systems, processes, and capabilities to support increased transaction volume and geographic expansion while maintaining operational efficiency and customer service quality that supports continued growth and success.</p>
<p>Governance and management scaling requires developing leadership structures, decision-making processes, and operational procedures that can coordinate complex multi-location or multi-market operations while preserving the democratic and collaborative principles that enable OnChain Commerce success.</p>
<p>The practical implementation of OnChain Commerce through systematic planning, appropriate technology selection, community development, revenue optimization, and scaling strategies provides the foundation for sustainable business success within decentralized economic networks. As we will explore in Chapter 12, these individual business success stories collectively contribute to broader economic paradigm shifts that transform how commercial activity operates at regional, national, and global scales.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2025 Global Business Chain, Inc. <br> <a href="en/">English</a> | <a href="zh/">中文</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>